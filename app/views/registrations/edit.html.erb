<h2>Edit <%= resource_name.to_s.humanize %></h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name),
             html: { method: :put }) do |f| %>
  <%= devise_error_messages! %>

  <div><%= f.label :email %><br />
  <%= f.email_field :email %></div>

  <div><%= f.label :password %>
    <i>(<%= t(:leave_blank_if_changing) %>)</i>
    <br/>
    <%= f.password_field :password, autocomplete: 'off' %>
  </div>

  <div><%= f.label :password_confirmation %><br />
  <%= f.password_field :password_confirmation %></div>

  <div>
    <%= f.label :current_password %>
    <i>(<%= t(:if_you_are_changing) %>)</i>
    <br/>
    <%= f.password_field :current_password %>
  </div>

  <div><%= f.submit t(:update) %></div>
<% end %>

<% if current_user.authentications %>
 <% unless current_user.authentications.empty? %>
  <table>
    <caption><%= t(:you_can_sign_in_with_these_accounts) %></caption>
    <thead>
      <th><%= t('activerecord.attributes.authentication.provider') %></th>
      <th>ID</th><th></th></thead>
    <tbody>
    <% for authentication in current_user.authentications %>
      <tr>
      <td><%= authentication.provider.titleize %></td>
      <td><%= authentication.uid %></td>
      <td><%= link_to t(:delete), authentication,
                      data: { confirm: t(:are_you_sure) },
                      method: :delete %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <% end %>
   <p><strong><%= t(:add_another_service) %></strong></p>
  <% else %>
  <p><strong><%= t(:sign_in_with_a_service) %></strong></p>
<% end %>

<ul>
  <li><a href="/auth/twitter">Twitter</a></li>
  <li><a href="/auth/facebook">Facebook</a></li>
</ul>

<h3><%= t(:cancel_my_account) %></h3>

<p><%= link_to t(:cancel_my_account), registration_path(resource_name),
                        data: { confirm: t(:are_you_sure) },
                        method: :delete %>.</p>

